{"version":3,"sources":["webpack:///./src/images/logo.jpg","webpack:///./src/views/mobile/index.vue?7e19","webpack:///src/views/mobile/index.vue","webpack:///./src/views/mobile/index.vue?f28f","webpack:///./src/views/mobile/index.vue","webpack:///./src/views/mobile/index.vue?768e"],"names":["module","exports","__webpack_require__","p","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","position","width","background","padding","z-index","line-height","margin","on","click","$event","backHome","height","attrs","src","align","trigger","on-click","m","dropdownClick","type","margin-top","border-radius","user","headimg","unreadMsgCount","_v","_s","_e","slot","name","divided","loginFlag","shape","toLogin","style","href","target","color","size","mask-closable","visible","emailModal","loading","title","update:visible","on-ok","emailOk","on-cancel","cancel","model","value","callback","$$v","expression","ref","rules","emailRule","email","label-width","label","prop","placeholder","$set","autosize","minRows","maxRows","staticRenderFns","mobilevue_type_script_lang_js_","data","consoleFlag","searchValue","content","loginName","required","message","passwordAgain","mounted","$store","getters","_isMobile","$router","replace","code","$route","query","state","login","methods","dispatch","router","push","path","userGet","_this","axios","method","url","then","response","userSet","usertype","Promise","resolve","bind","catch","error","$Message","e","search","menuSelect","info","_this2","$refs","validate","valid","alert","setTimeout","$nextTick","_this3","$Spin","show","h","animation","props","hide","githubLogin","qqLogin","location","reload","params","auth","username","password","localStorage","setItem","access_token","refresh_token","defaults","headers","common","getItem","toMessages","views_mobilevue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3e8edf92_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3e8edf92_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-1876299d.7481d7f5.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/logo.aef5b502.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mobild-layout\"},[_c('Layout',[_c('Header',{staticStyle:{\"position\":\"fixed\",\"width\":\"100%\",\"background\":\"#fff\",\"padding\":\"0 0\",\"z-index\":\"1000\",\"line-height\":\"0\"}},[_c('div',{staticStyle:{\"width\":\"95%\",\"margin\":\"0 auto\"}},[_c('div',{staticClass:\"layout-logo\"},[_c('a',{on:{\"click\":function($event){_vm.backHome()}}},[_c('img',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":require(\"../../images/logo.jpg\"),\"align\":\"absmiddle\"}})])]),(_vm.loginFlag)?_c('Dropdown',{staticClass:\"layout-nav\",attrs:{\"trigger\":\"click\"},on:{\"on-click\":function (m){_vm.dropdownClick(m)}}},[_c('div',{staticClass:\"avatar-badge-wrapper\",attrs:{\"type\":\"success\"}},[_c('img',{staticStyle:{\"width\":\"40px\",\"height\":\"40px\",\"margin-top\":\"12px\",\"border-radius\":\"100%\"},attrs:{\"src\":_vm.user.headimg}}),(_vm.unreadMsgCount > 0)?_c('span',{staticClass:\"msg-num\"},[_vm._v(_vm._s(_vm.unreadMsgCount))]):_vm._e()]),_c('DropdownMenu',{staticClass:\"dropdown-menu\",attrs:{\"slot\":\"list\"},slot:\"list\"},[_c('DropdownItem',{attrs:{\"name\":\"name\"}},[_c('Icon',{attrs:{\"type\":\"ios-person\"}}),_vm._v(\"\\n                           \\t\"+_vm._s(_vm.user.name)+\"\\n                        \")],1),_c('DropdownItem',{attrs:{\"name\":\"email\",\"divided\":\"\"}},[_c('Icon',{attrs:{\"type\":\"ios-mail\"}}),_vm._v(\"\\n                            邮件\\n                        \")],1),_c('DropdownItem',{attrs:{\"name\":\"messages\",\"divided\":\"\"}},[_c('Icon',{attrs:{\"type\":\"md-chatboxes\"}}),_vm._v(\"\\n                            消息\\n                        \")],1),_c('DropdownItem',{attrs:{\"name\":\"loginOut\",\"divided\":\"\"}},[_c('Icon',{attrs:{\"type\":\"md-log-out\"}}),_vm._v(\"\\n                        \\t退出\\n                        \")],1)],1)],1):_vm._e(),(!_vm.loginFlag)?_c('div',{staticClass:\"layout-nav\",staticStyle:{\"margin-top\":\"14px\"}},[_c('Button',{attrs:{\"shape\":\"circle\"},on:{\"click\":function($event){_vm.toLogin()}}},[_c('span',[_vm._v(\"登录\")])])],1):_vm._e()],1)]),_c('Content',{style:({margin: '80px 0 0 0', background: '#fff'})},[_c('router-view')],1),_c('Footer',{staticClass:\"layout-footer-center\"},[_c('div',[_c('a',{attrs:{\"href\":\"https://github.com/smallsnail-wh\",\"target\":\"_blank\"}},[_c('Icon',{staticStyle:{\"color\":\"rebeccapurple\"},attrs:{\"size\":\"40\",\"type\":\"logo-github\"}})],1)]),_c('p',[_vm._v(\"2018-2020 © smallsail-wh\")])])],1),_c('Modal',{attrs:{\"mask-closable\":false,\"visible\":_vm.emailModal,\"loading\":_vm.loading,\"title\":\"联系管理员\"},on:{\"update:visible\":function($event){_vm.emailModal=$event},\"on-ok\":function($event){_vm.emailOk('email')},\"on-cancel\":function($event){_vm.cancel()}},model:{value:(_vm.emailModal),callback:function ($$v) {_vm.emailModal=$$v},expression:\"emailModal\"}},[_c('Form',{ref:\"email\",attrs:{\"rules\":_vm.emailRule,\"model\":_vm.email,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入标题\"},model:{value:(_vm.email.title),callback:function ($$v) {_vm.$set(_vm.email, \"title\", $$v)},expression:\"email.title\"}})],1),_c('FormItem',{attrs:{\"label\":\"email\",\"prop\":\"email\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入email\"},model:{value:(_vm.email.email),callback:function ($$v) {_vm.$set(_vm.email, \"email\", $$v)},expression:\"email.email\"}})],1),_c('FormItem',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.email.name),callback:function ($$v) {_vm.$set(_vm.email, \"name\", $$v)},expression:\"email.name\"}})],1),_c('FormItem',{attrs:{\"label\":\"内容\",\"prop\":\"content\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5},\"placeholder\":\"Enter something...\"},model:{value:(_vm.email.content),callback:function ($$v) {_vm.$set(_vm.email, \"content\", $$v)},expression:\"email.content\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style scoped>\n.mobild-layout {\n  border: 1px solid #d7dde4;\n  background: #f5f7f9;\n  position: relative;\n  border-radius: 4px;\n  overflow: hidden;\n}\n.mobild-layout .layout-logo {\n  /*width: 100px;*/\n  /*height: 30px;*/\n  /*background: #5b6270;*/\n  /*border-radius: 3px;*/\n  float: left;\n  /*position: relative;*/\n  /*top: 15px;\n        left: 20px;*/\n  margin-top: 7px;\n}\n.mobild-layout .layout-search {\n  height: 30px;\n  border-radius: 3px;\n  float: left;\n  position: relative;\n  left: 80px;\n}\n.mobild-layout .layout-nav {\n  /*width: 315px;\n        margin: 0 auto;\n        margin-right: 20px;*/\n  height: inherit;\n  float: right;\n  font-size: 15px;\n  margin-right: 5%;\n}\n.dropdown-menu {\n  text-align: center;\n}\n.mobild-layout .layout-nav span {\n  font-size: 15px;\n  color: #c92027;\n}\n.mobild-layout .layout-footer-center {\n  text-align: center;\n}\n.mobild-layout .demo-spin-icon-load {\n  animation: ani-demo-spin 1s linear infinite;\n}\n\n.avatar-badge-wrapper {\n  position: relative;\n  cursor: pointer;\n}\n\n.avatar-badge-wrapper .msg-num {\n  position: absolute;\n  top: 9px;\n  right: -12px;\n  color: #fff !important;\n  background-color: #2db7f5;\n  border-radius: 50%;\n  padding: 2px 5px;\n  line-height: 1;\n}\n\n@keyframes ani-demo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  50% {\n    transform: rotate(180deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.layout-title {\n  font-size: 20px;\n  font-weight: 400;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n  color: rebeccapurple;\n  left: 41%;\n}\n</style>\n<template>\n    <div class=\"mobild-layout\">\n    \t<Layout>\n            <Header style=\"position: fixed;width: 100%;background:#fff;padding:0 0;z-index: 1000; line-height:0;\">\n            \t<div style=\"width: 95%;margin: 0 auto\">\n                    <div class=\"layout-logo\">\n                        <a @click=\"backHome()\">\n                            <img src=\"../../images/logo.jpg\" style=\"width: 50px;height: 50px;\" align=\"absmiddle\" />\n                        </a>\n                    </div>\n                    <!-- <div style=\"height: 64px;float: left;\">\n                        <span class=\"layout-title\">interest</span>\n                    </div> -->\n                    <Dropdown v-if=\"loginFlag\" trigger=\"click\" class=\"layout-nav\" @on-click=\"m=>{dropdownClick(m)}\">\n                        <div  type=\"success\" class=\"avatar-badge-wrapper\">\n\n                            <img style=\"width: 40px;height: 40px; margin-top: 12px;border-radius: 100%;\" :src=\"user.headimg\" />\n\n                            <span v-if=\"unreadMsgCount > 0\"  class=\"msg-num\">{{unreadMsgCount}}</span>\n\n                        </div>\n\n                        <DropdownMenu class=\"dropdown-menu\" slot=\"list\">\n                        \t<DropdownItem name=\"name\">\n                            \t<Icon type=\"ios-person\"></Icon>\n                               \t{{user.name}}\n                            </DropdownItem>\n                            <DropdownItem name=\"email\" divided>\n                            \t<Icon type=\"ios-mail\"></Icon>\n                                邮件\n                            </DropdownItem>\n\n                            <DropdownItem name=\"messages\" divided>\n                                <Icon type=\"md-chatboxes\"></Icon>\n                                消息\n                            </DropdownItem>\n\n                            <DropdownItem name=\"loginOut\" divided>\n                            \t<Icon type=\"md-log-out\"></Icon>\n                            \t退出\n                            </DropdownItem>\n                        </DropdownMenu>\n                    </Dropdown>\n                    <div v-if=\"!loginFlag\" class=\"layout-nav\" style=\"margin-top: 14px;\">\n                        <Button shape=\"circle\" @click=\"toLogin()\">\n                        \t<span>登录</span>\n                        </Button>\n                    </div>\n                </div>\n            </Header>\n            <Content :style=\"{margin: '80px 0 0 0', background: '#fff'}\">\n                <router-view></router-view>\n            </Content>\n            <Footer class=\"layout-footer-center\">\n                <div>\n                    <a href=\"https://github.com/smallsnail-wh\" target=\"_blank\">\n                        <Icon  style=\"color: rebeccapurple;\" size=\"40\" type=\"logo-github\"></Icon>\n                    </a>\n                </div>\n                <p>2018-2020 &copy; smallsail-wh</p>\n            </Footer>\n        </Layout>\n\n        <Modal :mask-closable=\"false\" :visible.sync=\"emailModal\" :loading = \"loading\" v-model=\"emailModal\" title=\"联系管理员\" @on-ok=\"emailOk('email')\" @on-cancel=\"cancel()\">\n             <Form ref=\"email\" :rules=\"emailRule\" :model=\"email\"  :label-width=\"80\" >\n                <FormItem label=\"标题\" prop=\"title\">\n                    <Input v-model=\"email.title\" placeholder=\"请输入标题\" />\n                </FormItem>\n                <FormItem label=\"email\" prop=\"email\">\n                    <Input v-model=\"email.email\" placeholder=\"请输入email\" />\n                </FormItem>\n                <FormItem label=\"姓名\" prop=\"name\">\n                    <Input v-model=\"email.name\" placeholder=\"请输入姓名\" />\n                </FormItem>\n                <FormItem label=\"内容\" prop=\"content\">\n                    <Input v-model=\"email.content\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\" placeholder=\"Enter something...\" />\n                </FormItem>\n            </Form>\n        </Modal>\n    </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      loginFlag: false,\n      consoleFlag: false,\n      loading: true,\n      searchValue: \"\",\n      //用户未读消息个数\n      unreadMsgCount: 0,\n      emailModal: false,\n      email: {\n        title: \"\",\n        email: \"\",\n        name: \"\",\n        content: \"\"\n      },\n      user: {\n        loginName: \"\",\n        email: \"\",\n        headimg: \"\",\n        name: \"\"\n      },\n      emailRule: {\n        title: [\n          {\n            type: \"string\",\n            required: true,\n            message: \"请输入密码\",\n            trigger: \"blur\"\n          }\n        ],\n        email: [\n          { required: true, message: \"输入邮箱\", trigger: \"blur\" },\n          { type: \"email\", message: \"输入正确的邮箱格式\", trigger: \"blur\" }\n        ],\n        passwordAgain: [\n          {\n            type: \"string\",\n            required: true,\n            message: \"请输入再次输入密码\",\n            trigger: \"blur\"\n          }\n        ],\n        name: [\n          {\n            type: \"string\",\n            required: true,\n            message: \"请输入姓名\",\n            trigger: \"blur\"\n          }\n        ],\n        content: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }]\n      }\n    };\n  },\n  mounted() {\n    if (!this.$store.getters._isMobile) {\n      this.$router.replace(\"/\");\n    }\n    var code = this.$route.query.code;\n    var state = this.$route.query.state;\n    this.login(code, state);\n  },\n  methods: {\n    dropdownClick(m) {\n      if (m == \"email\") {\n        this.emailModal = true;\n      } else if (m == \"loginOut\") {\n        this.$store.dispatch(\"users/loginOUt\", { router: this.$router });\n      } else if (m == \"messages\") {\n        this.$router.push({ path: \"/mobile/messages\" });\n      }\n    },\n    toLogin() {\n      this.$router.push(\"/mlogin\");\n    },\n    userGet() {\n      let _this = this;\n      this.axios({\n        method: \"get\",\n        url: \"/public/getUserInfo\"\n      })\n        .then(\n          function(response) {\n            if (response.data.data != null && response.data.data != \"\") {\n              this.loginFlag = true;\n              this.userSet(response.data.data);\n              if (response.data.data.usertype == 1) {\n                this.consoleFlag = true;\n              }\n\n              return this.axios({\n                method: \"get\",\n                url: \"/msgrecords/unreadnum\"\n              });\n            } else {\n              return Promise.resolve(0);\n            }\n          }.bind(this)\n        )\n        .then(function(response) {\n          if (response === 0) {\n            _this.unreadMsgCount = response;\n          } else {\n            _this.unreadMsgCount = response.data.data;\n          }\n        })\n        .catch(\n          function(error) {\n            this.$Message.error(\"无权限\");\n          }.bind(this)\n        );\n    },\n    userSet(e) {\n      this.user.loginName = e.loginName;\n      this.user.email = e.email;\n      this.user.headimg = e.headimg;\n      this.user.name = e.name;\n    },\n    search() {\n      if (this.searchValue != null && this.searchValue != \"\") {\n        this.$router.push(\"/page/home/\" + this.searchValue);\n      }\n    },\n    menuSelect(e) {\n      if (e == 1) {\n      } else if (e == 2) {\n        this.emailModal = true;\n      } else if (e == 3) {\n        this.$store.dispatch(\"users/loginOUt\", { router: this.$router });\n      } else if (e == 4) {\n        this.$router.push(\"/base\");\n      } else if (e == 5) {\n        this.$router.push(\"/login\");\n      }\n    },\n    backHome() {\n      this.$router.push(\"/page/home\");\n    },\n    cancel() {\n      this.$Message.info(\"点击了取消\");\n    },\n    emailOk(email) {\n      this.$refs[email].validate(valid => {\n        if (valid) {\n          this.axios({\n            method: \"post\",\n            url: \"/email\",\n            data: this.email\n          })\n            .then(\n              function(response) {\n                this.$Message.info(\"发送成功\");\n              }.bind(this)\n            )\n            .catch(function(error) {\n              alert(error);\n            });\n          this.emailModal = false;\n        } else {\n          this.$Message.error(\"表单验证失败!\");\n          setTimeout(() => {\n            this.loading = false;\n            this.$nextTick(() => {\n              this.loading = true;\n            });\n          }, 1000);\n        }\n      });\n    },\n    /*登录*/\n    login(code, state) {\n      if (code != null && code != \"\" && state != null && state != \"\") {\n        this.$Spin.show({\n          render: h => {\n            return h(\"div\", [\n              h(\"Icon\", {\n                style: {\n                  animation: \"ani-demo-spin 1s linear infinite\"\n                },\n                props: {\n                  type: \"load-c\",\n                  size: 18\n                }\n              }),\n              h(\"div\", \"正在登录，请等待...\")\n            ]);\n          }\n        });\n        setTimeout(() => {\n          this.$Spin.hide();\n        }, 10000);\n        if (state == \"github\") {\n          this.githubLogin(code);\n        } else if (state == \"qq\") {\n          this.qqLogin(code);\n        } else {\n          this.$router.push({ path: \"/\" });\n          location.reload();\n        }\n      } else {\n        this.userGet();\n      }\n    },\n    /*github登录*/\n    githubLogin(code) {\n      this.axios({\n        method: \"post\",\n        url: \"/authentication/github\",\n        params: {\n          code: code\n        },\n        auth: {\n          username: \"client\",\n          password: \"secret\"\n        }\n      })\n        .then(\n          function(response) {\n            localStorage.setItem(\n              \"currentUser_token\",\n              response.data.access_token\n            );\n            localStorage.setItem(\n              \"currentUser_refresh_token\",\n              response.data.refresh_token\n            );\n            this.axios.defaults.headers.common[\"Authorization\"] =\n              \"bearer \" + localStorage.getItem(\"currentUser_token\");\n            this.$router.push({ path: \"/\" });\n            location.reload();\n          }.bind(this)\n        )\n        .catch(\n          function(error) {\n            this.$Message.error(\"登陆失败\");\n          }.bind(this)\n        );\n    },\n    /*qq登录*/\n    qqLogin(code) {\n      this.axios({\n        method: \"post\",\n        url: \"/authentication/qq\",\n        params: {\n          code: code\n        },\n        auth: {\n          username: \"client\",\n          password: \"secret\"\n        }\n      })\n        .then(\n          function(response) {\n            localStorage.setItem(\n              \"currentUser_token\",\n              response.data.access_token\n            );\n            localStorage.setItem(\n              \"currentUser_refresh_token\",\n              response.data.refresh_token\n            );\n            this.axios.defaults.headers.common[\"Authorization\"] =\n              \"bearer \" + localStorage.getItem(\"currentUser_token\");\n            this.$router.push({ path: \"/\" });\n            location.reload();\n          }.bind(this)\n        )\n        .catch(\n          function(error) {\n            this.$Message.error(\"登陆失败\");\n          }.bind(this)\n        );\n    },\n\n    toMessages() {\n      //console.log('to messages page');\n      this.$router.push({ path: \"/page/messages\" });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3e8edf92&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3e8edf92&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e8edf92\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3e8edf92&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3e8edf92&scoped=true&lang=css&\""],"sourceRoot":""}