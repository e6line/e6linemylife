(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-620ae9e4"],{a2a5:function(t,a,e){"use strict";var i=e("f2c7"),s=e.n(i);s.a},e7bf:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"mywork"}},[e("div",{staticClass:"page-header-main"},[e("div",{staticClass:"box-flex width-80 margin-auto margin-top-2 flex-direction-column flex-justify-center flex-items-center"},[e("div",{staticStyle:{width:"100%",margin:"20px 0 20px 0"}},[e("div",{staticClass:"ivu-card-head",staticStyle:{background:"#eceef2"}},[e("p",[t._v(t._s(t.postcard.title))])]),e("Card",[e("div",{staticClass:"content-right"},[e("div",[e("a",{attrs:{href:t.postcard.githuburl,target:"_blank"}},[e("img",{staticStyle:{width:"25px",height:"25px","border-radius":"100%"},attrs:{src:t.postcard.headimg}}),t._v("\n                                "+t._s(t.postcard.username)+"\n                            ")])]),e("div",{staticStyle:{background:"#5cadff","text-align":"center",color:"#fff","border-radius":"10px"}},[t._v("\n                        楼主\n                      ")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"content-text"},[e("p",[t._v(t._s(t.postcard.content))]),e("span",[e("Icon",{attrs:{type:"ios-time"}}),t._v("\n                              "+t._s(t.postcard.createtime)+"\n                          ")],1)])])]),t._l(t.replyCardList,function(a,i){return e("Card",{key:i},[e("div",{staticClass:"content-right"},[e("a",{attrs:{href:a.githuburl,target:"_blank"}},[e("img",{staticStyle:{width:"25px",height:"25px","border-radius":"100%"},attrs:{src:a.headimg}}),t._v("\n                            "+t._s(a.username)+"\n                        ")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"content-text"},[e("p",[t._v(t._s(a.content))]),e("span",[e("Icon",{attrs:{type:"ios-time"}}),t._v("\n                            "+t._s(a.createtime)+"\n                        ")],1)])])])}),e("div",{staticStyle:{"margin-top":"20px"}},[e("Page",{attrs:{total:t.total,"page-size":t.pageInfo.pageSize,"show-elevator":"","show-total":""},on:{"on-change":function(a){t.pageSearch(a)}}})],1)],2),e("div",{staticClass:"box-flex width-100 margin-auto margin-top-2 border-top border-color-bfbfbf"}),e("div",{staticClass:"box-flex margin-auto margin-top-2 flex-direction-column flex-justify-center flex-items-center",staticStyle:{width:"100%"}},[e("div",{staticClass:" width-100 flex-direction-row"},[e("div",{staticClass:"box-flex flex-1 padding-all-5x"},[e("span",[e("Icon",{attrs:{type:"edit"}}),t._v("发表回复")],1)]),e("div",{staticClass:"box-flex flex-6 width-100 padding-all-5x"},[e("Input",{attrs:{type:"textarea",rows:6,placeholder:"内容"},model:{value:t.textarea,callback:function(a){t.textarea=a},expression:"textarea"}})],1)]),e("div",{staticClass:"box-flex width-100 margin-top-2 flex-items-flex-end flex-justify-flex-end margin-bottom-3"},[e("Button",{attrs:{type:"primary"},on:{click:function(a){t.sendCard()}}},[t._v("发表")])],1)])])])])},s=[],r=(e("cadf"),e("551c"),e("097d"),{data:function(){return{total:0,pageInfo:{page:0,pageSize:20},textarea:"",postcardid:null,postcard:{id:"",username:"",title:"",content:"",interestid:"",createtime:"",headimg:"",githuburl:""},replyCardList:[]}},mounted:function(){this.postcardid=this.$route.params.id,this.axios({method:"get",url:"/public/postcards/postcard",params:{id:this.postcardid}}).then(function(t){this.postcardSet(t.data.data)}.bind(this)).catch(function(t){alter(t)}.bind(this)),this.replyCardListGet({pageInfo:this.pageInfo,postcardid:this.postcardid})},methods:{replyCardListGet:function(t){this.axios({method:"get",url:"/public/replycards",params:{page:t.pageInfo.page,pageSize:t.pageInfo.pageSize,postcardid:t.postcardid}}).then(function(t){this.replyCardList=t.data.data.data,this.listDateSet(this.replyCardList),this.total=t.data.data.totalCount}.bind(this)).catch(function(t){alert(t)})},listDateSet:function(t){for(var a=t.length-1;a>=0;a--)t[a].createtime=this.dateGet(t[a].createtime)},postcardSet:function(t){this.postcard.id=t.id,this.postcard.username=t.username,this.postcard.title=t.title,this.postcard.content=t.content,this.postcard.interestid=t.interestid,this.postcard.createtime=this.dateGet(t.createtime),this.postcard.headimg=t.headimg,this.postcard.githuburl=t.githuburl},pageSearch:function(t){this.pageInfo.page=t-1,this.replyCardListGet({pageInfo:this.pageInfo,postcardid:this.postcardid})},sendCard:function(){null!=this.textarea&&""!=this.textarea?null!=this.axios.defaults.headers.common["Authorization"]&&""!=this.axios.defaults.headers.common["Authorization"]?this.axios({method:"post",url:"/replycards/replycard",data:{postcardid:this.postcardid,content:this.textarea}}).then(function(t){this.$Message.info("回复成功"),this.textarea="",this.replyCardListGet({pageInfo:this.pageInfo,postcardid:this.postcardid})}.bind(this)).catch(function(t){this.$Message.error("请重新登录")}.bind(this)):this.$Message.error("登录后，才能回复！"):this.$Message.error("请填写回复内容")}}}),n=r,o=(e("a2a5"),e("2877")),d=Object(o["a"])(n,i,s,!1,null,"94ee5868",null);d.options.__file="card.vue";a["default"]=d.exports},f2c7:function(t,a,e){}}]);
//# sourceMappingURL=chunk-620ae9e4.941fb115.js.map