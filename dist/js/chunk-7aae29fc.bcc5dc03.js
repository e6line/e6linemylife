(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7aae29fc"],{"20d6":function(t,e,s){"use strict";var a=s("5ca1"),n=s("0a49")(6),i="findIndex",r=!0;i in[]&&Array(1)[i](function(){r=!1}),a(a.P+a.F*r,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(i)},3360:function(t,e,s){"use strict";var a=s("e158"),n=s.n(a);n.a},e158:function(t,e,s){},e9a4:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"unread-msg-wrapper"},[t._l(t.messages,function(e,a){return s("Card",{key:e.id,staticClass:"msg-card-item"},[s("div",{on:{click:function(s){t.read(e.id,e.isread)}}},[s("div",{staticClass:"synopsis"},[s("Avatar",{attrs:{shape:"square",icon:"person",src:e.replyUserHeadimg,title:e.replyUsername}}),s("span",{staticClass:"user-name"},[t._v(t._s(e.replyUsername))]),s("span",{staticClass:"time"},[t._v(t._s(t.dateGet(e.replytime)))]),s("span",[t._v("回复：")]),s("router-link",{attrs:{to:{path:"card/"+e.cardid}}},[s("span",{staticClass:"post-title"},[t._v(t._s(e.postCardTitle))])])],1),s("Divider"),s("div",{staticClass:"reply-content"},[s("p",[t._v(t._s(e.replyContent))])]),0==e.isread?s("Icon",{staticClass:"unread-symbol",attrs:{type:"chatbox-working",color:"red",size:"20"}}):t._e()],1)])}),s("Page",{staticClass:"pagin",attrs:{total:t.totalCount,"show-total":""},on:{"on-change":function(t){}}})],2)},n=[],i=(s("20d6"),{name:"messages",data:function(){return{messages:[],pageSize:10,page:0,totalCount:0}},mounted:function(){var t=this;this.axios.get("/msgrecords/user?pageSize= "+t.pageSize+"&page="+t.page).then(function(e){var s=e.data.data;t.messages=s.data,t.totalCount=s.totalCount,console.log(e)}).catch(function(e){t.$Message.error("查询失败，请稍后重试")})},methods:{read:function(t,e){if(1!=e){var s=this;this.axios({method:"put",url:"/msgrecords/read/",params:{msgRecordId:t}}).then(function(e){var a=s.messages.findIndex(function(e){return e.id==t}),n=s.messages[a];n.isread=1,s.messages.splice(a,1,n)}.bind(this)).catch(function(t){s.$Message.error("已读失败，请稍后重试")})}}}}),r=i,o=(s("3360"),s("2877")),c=Object(o["a"])(r,a,n,!1,null,"efdea224",null);c.options.__file="messages.vue";e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-7aae29fc.bcc5dc03.js.map